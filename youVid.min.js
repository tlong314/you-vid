var youVid=function(e){var t,n,a,o,i,l=e||document.querySelector("video"),r=0,d=!1,c=!1,m=!1,u=250,s=.05,p=0,h=5,y=null;l||(document.querySelector("iframe")&&(i=document.querySelector("iframe").contentDocument||document.querySelector("iframe").contentWindow.documentElement,l=i.querySelector("video")),!l&&window.console&&console.log("unable to find HTML5 video on the page - cannot use this code with flash videos")),l.addEventListener("timeupdate",function(){d&&(m?this.currentTime<p&&(this.currentTime=h):this.currentTime>h&&(this.currentTime=p))},!1);var f=function(){return l.currentTime=p,d=!0,l.paused&&l.play(),this},v=function(){return d=!1,this},g=function(e){return l.currentTime=0,this},x=function(e){return l.currentTime=e,this},T=function(e,n){if(l.pause(),"undefined"==typeof e)if(document.getElementById("sloMoRange"))var e=u=1020-document.getElementById("sloMoRange").value;else var e=u;if("undefined"==typeof n)var n=s;return m&&(n*=-1),c&&(clearTimeout(a),c=!1),t=function(){c&&(clearTimeout(a),c=!1),l.currentTime=l.currentTime+n,c=!0,a=setTimeout(t,e)},c=!0,a=setTimeout(t,e),this},E=function(){return clearTimeout(a),c=!1,m?C():l.play(),this},C=function(){return l.pause(),m&&(clearTimeout(o),m=!1),n=function(){return m&&(clearTimeout(o),m=!1),c?void(m=!0):(l.currentTime=l.currentTime-.1,m=!0,void(o=setTimeout(n,function(){return c?1020-document.getElementById("sloMoRange").value:void 0}()||100)))},m=!0,setTimeout(n,100),this},I=function(){return clearTimeout(o),m=!1,c?(E(),T(u,s)):l.play(),this},b=function(e){return l.style.transform=e,this},N=function(){return l.style.transform="matrix(1,0,0,1,0,0)",this},V=function(e){var t=document.getElementsByClassName("ytp-panel-menu");if(-1===window.location.hostname.indexOf("youtube.com")&&-1===window.location.hostname.indexOf("youtu.be")&&0===t.length){console.log("not youtube");var n=document.createElement("DIV");n.style.zIndex=999,n.style.background="rgba(0, 0, 0, 0.5)",n.style.color="white",n.style.font="bold 11px Arial",n.style.position="fixed",n.style.right="5px",n.style.bottom="5px",n.style.minHeight="20px",n.style.minWidth="500px",n.className="ytp-panel-menu";var a;0===document.styleSheets.length&&(a=document.createElement("style"),document.body.appendChild(a));var o=document.styleSheets[0],i=(o.cssRules||[]).length;o.insertRule(".ytp-panel-menu > div {width: 300px; padding: 3px 5px; font: bold 14px Arial; line-height: 22px; height: 22px;}",i),o.insertRule(".ytp-panel-menu > div:hover {background: rgba(169, 169, 169, 0.5); cursor: default;}",i+1),document.body.appendChild(n),t=document.getElementsByClassName("ytp-panel-menu")}var l=document.createElement("DIV");l.className="ytp-menuitem",l["aria-haspopup"]=!1,l.role="menuitem",l.tabindex="0",l.id=e.id,l.onclick=e.callback;var d=document.createElement("DIV");d.className="ytp-menuitem-label",d.innerHTML=e.text;var c=document.createElement("DIV");c.className="ytp-menuitem-content",l.appendChild(d),l.appendChild(c);for(var m=0;m<t.length;m++)t[m].appendChild(l),r++;return this},w=function(e){return e?"now"===e.toLowerCase()?D(l.currentTime):"start"===e.toLowerCase()?"0:00":"end"===e.toLowerCase()?D(l.duration||l.currentTime):e.startsWith("-")?D(l.duration-L(e.replace("-",""))):e:e},k=function(e){console.log("adding menu items");var t=[];if(e){var n=document.createElement("DIV");n.style.position="fixed",n.style.right="0",n.style.bottom="20px",n.style.width="400px",n.style.zIndex="999",n.style.color="white",n.style.font="bold 14px Arial;",n.style.backgroundColor="rgba(0, 0, 0, 0.5)",n.className="ytp-panel-menu",document.body.appendChild(n),t=[n]}else t=document.getElementsByClassName("ytp-panel-menu")||[document.body];var a=document.createElement("DIV");a.className="ytp-menuitem",a["aria-haspopup"]=!1,a.role="menuitem",a.tabindex="0",a.id="sloMoVid",a.style.height="30px",a.style.padding="0 15px",a.style.verticalAlign="middle";var o=document.createElement("DIV");o.className="ytp-menuitem-label",o.innerHTML="<span style='float: left;'>Speed: </span>",a.appendChild(o);var i=document.createElement("INPUT");i.type="checkbox",i.id="sloMoCheck",i.onchange=function(){this.checked?T(1020-document.getElementById("sloMoRange").value,.5):E()},a.appendChild(i);var i=document.createElement("INPUT");i.type="range",i.id="sloMoRange",i.min="0",i.max="1000",i.value="540",i.style="margin-left: 20px",i.onchange=function(){E(),R(this.value),T(1020-this.value,.5)},a.appendChild(i);var d=document.createElement("DIV");d.className="ytp-menuitem-content",a.appendChild(d);for(var m=0;m<t.length;m++)t[m].appendChild(a),r++;var a=document.createElement("DIV");a.className="ytp-menuitem",a["aria-haspopup"]=!1,a.role="menuitem",a.tabindex="0",a.style.height="30px",a.style.padding="0 15px",a.style.verticalAlign="middle",a.id="loopVideo";var o=document.createElement("DIV");o.className="ytp-menuitem-label",o.innerHTML="<span style='float: left'>Loop: </span>",a.appendChild(o);var i=document.createElement("INPUT");i.type="checkbox",i.id="loopCheck",i.onchange=function(){this.checked?f():v()},a.appendChild(i);var p=document.createTextNode(" From ");a.appendChild(p);var i=document.createElement("INPUT");i.type="text",i.style.width="80px",i.id="loopFrom",i.step="0.1",i.value=D(l.currentTime).split(".")[0],i.placeholder="0:00",i.onclick=function(){this.value=w(window.prompt("Enter loop start time"))||this.value||0,this.focus(),P(this.value)},i.onchange=function(){P(this.value)},a.appendChild(i);var p=document.createTextNode(" To ");a.appendChild(p);var i=document.createElement("INPUT");i.type="text",i.style.width="80px",i.id="loopTo",i.step="0.1",i.value=D(l.currentTime+5).split(".")[0],i.placeholder="0:05",i.onclick=function(){this.value=w(window.prompt("Enter loop end time"))||this.value||5,this.focus(),U(this.value)},i.onchange=function(){U(this.value)},a.appendChild(i);var d=document.createElement("DIV");d.className="ytp-menuitem-content",a.appendChild(d),a.style.padding="0 15px",a.style.verticalAlign="middle";for(var m=0;m<t.length;m++)t[m].appendChild(a),r++;var a=document.createElement("DIV");a.className="ytp-menuitem",a["aria-haspopup"]=!1,a.role="menuitem",a.tabindex="0",a.style.height="30px",a.style.padding="0 15px",a.style.verticalAlign="middle",a.id="reverseVideo";var o=document.createElement("DIV");o.className="ytp-menuitem-label",o.innerHTML="<span style='float: left;'>Reverse </span>",a.appendChild(o);var i=document.createElement("INPUT");i.type="checkbox",i.id="reverseCheck",i.onchange=function(){this.checked?(C(),c&&(E(),T(u,s))):I()},a.appendChild(i);var d=document.createElement("DIV");d.className="ytp-menuitem-content",a.appendChild(d);for(var m=0;m<t.length;m++)t[m].appendChild(a),r++;var a=document.createElement("DIV");if(a.className="ytp-menuitem",a["aria-haspopup"]=!1,a.role="menuitem",a.tabindex="0",a.style.height="30px",a.style.padding="0 15px",a.style.verticalAlign="middle",a.id="loopVideo",!e){var o=document.createElement("DIV");o.className="ytp-menuitem-label",o.innerHTML="<span style='float: left;'>Flip: </span>",a.appendChild(o)}if(e)var h=document.createTextNode("Flip Horizontal: ");else var h=document.createTextNode(" Horizontal: ");a.appendChild(h);var i=document.createElement("INPUT");if(i.type="checkbox",i.id="flipHor",i.onchange=function(){this.checked?document.getElementById("flipVer").checked?l.style.transform="matrix(-1, 0, 0, -1, 0, 0)":l.style.transform="matrix(-1, 0, 0, 1, 0, 0)":document.getElementById("flipVer").checked?l.style.transform="matrix(1, 0, 0, -1, 0, 0)":l.style.transform="matrix(1, 0, 0, 1, 0, 0)"},a.appendChild(i),e)var p=document.createTextNode("Flip Vertical: ");else var p=document.createTextNode(" Vertical: ");a.appendChild(p);var i=document.createElement("INPUT");i.type="checkbox",i.id="flipVer",i.onchange=function(){this.checked?document.getElementById("flipHor").checked?l.style.transform="matrix(-1, 0, 0, -1, 0, 0)":l.style.transform="matrix(1, 0, 0, -1, 0, 0)":document.getElementById("flipHor").checked?l.style.transform="matrix(-1, 0, 0, 1, 0, 0)":l.style.transform="matrix(1, 0, 0, 1, 0, 0)"},a.appendChild(i);var d=document.createElement("DIV");d.className="ytp-menuitem-content",a.appendChild(d);for(var m=0;m<t.length;m++)t[m].appendChild(a),r++;if(!e){var a=document.createElement("DIV");a.className="ytp-menuitem",a["aria-haspopup"]=!1,a.role="menuitem",a.tabindex="0",a.style.height="30px",a.style.padding="0 15px",a.style.verticalAlign="middle",a.id="skipIntroAd",a.onclick=function(e){l.currentTime=l.duration,this.parentNode.removeChild(this)},y=a;var o=document.createElement("DIV");o.className="ytp-menuitem-label",o.innerHTML="Skip intro ad";var d=document.createElement("DIV");d.className="ytp-menuitem-content",a.appendChild(o),a.appendChild(d);for(var m=0;m<t.length;m++)t[m].appendChild(a),r++}},M=function(){return document.getElementById("customLoop")?void 0:-1===window.location.hostname.indexOf("youtube")&&-1===window.location.hostname.indexOf("youtu.be")?k(!0):document.getElementsByClassName("ytp-panel-menu").length<2?setTimeout(M,1e3):k()},D=function(e){var t=0>e?-1:1;return e=Math.abs(e),t*Math.floor(e/60)+":"+(10>e%60?"0":"")+(e%60).toFixed(1)},L=function(e){if(e+="",-1!==e.indexOf(":")){var t=e.split(":"),n=parseInt(t[0],10),a=parseFloat(t[1],10);e=0>n?60*n-a:60*n+a}return parseFloat(e,10)},S=function(){return u},B=function(){return s},H=function(){return p},A=function(){return h},R=function(e){return u=e,this},F=function(e){return s=e,this},P=function(e){return p=L(e),this},U=function(e){return h=L(e),this},q=function(){return l.play(),this},O=function(){return l.pause(),this};return M(),{loop:f,endLoop:v,restart:g,gotoTime:x,sloMo:T,endSloMo:E,reverse:C,endReverse:I,setTransform:b,setSMDelay:R,setSMAdvance:F,setLoopStart:P,setLoopEnd:U,getSMDelay:S,getSMAdvance:B,getLoopStart:H,getLoopEnd:A,resetTransform:N,addMenuItem:V,createCustomMenu:M,video:l,play:q,pause:O}}();"undefined"==typeof window.yv&&(window.yv=youVid);